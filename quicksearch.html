<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Classes Classes GLMap GLMap OSMBuildings Events change Fired when the map is zoomed, tilted or panned resize Fired when the map is resized rotate Fired when the map is rotated tilt Fired when the map is tilted zoom Fired when the map is zoomed (in either direction) busy Fired when data loading starts idle Fired when data loading ends loadfeature Fired when a 3d object has been loaded × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Tutorials Classes GLMap GLMap OSMBuildings Events change Fired when the map is zoomed, tilted or panned resize Fired when the map is resized rotate Fired when the map is rotated tilt Fired when the map is tilted zoom Fired when the map is zoomed (in either direction) busy Fired when data loading starts idle Fired when data loading ends loadfeature Fired when a 3d object has been loaded × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object OSM BuildingsOSM Buildings is a JavaScript library for visualizing OpenStreetMap building geometry on 2D and 3D maps. Documentation Github Example InfoThe library version in this repository is a WebGL only variant of OSM Buildings. At some point it will fully integrate the Classic 2.5D version. For the latest information about the project follow us on Twitter, read our blog, or just mail us at mail@osmbuildings.org. Not sure which version to use?Classic 2.5DSource: https://github.com/kekscom/osmbuildings Best for: great device compatibility good performance on older hardware shadow simulation full integration with Leaflet or OpenLayers 2 Modern 3DBest for: great performance on modern graphics hardware huge amounts of objects combining various data sources This version uses GLMap for any events and layers logic. CompatibilityRuns likely on earlier versons than listed below, but this is our baseline for tests. Win7: latest Chrome (MSIE11 not running, Firefox TBD) Win10: TBD OSX: latest Crome, Safari, Firefox Linux: TBD Android 5.0 iOS 9.3 Get the filesChecking in built versions causes a lot of trouble during development. So we decided to use the Github release system instead. Just pick the latest version from here: https://github.com/OSMBuildings/OSMBuildings/releases DocumentationAll geo coordinates are in EPSG:4326. Quick integrationLink all required libraries in your HTML head section. Files are provided in folder /dist. &lt;head&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;OSMBuildings/OSMBuildings.css&quot;&gt; &lt;script src=&quot;OSMBuildings/OSMBuildings.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;map&quot;&gt;&lt;/div&gt;In a script section initialize the map and add a map tile layer. var map = new GLMap('map', { position: { latitude:52.52000, longitude:13.41000 }, zoom: 16 }); // add OSM Buildings to the map and let it load data tiles. var osmb = new OSMBuildings({ minZoom: 15, maxZoom: 22 }).addTo(map); osmb.addMapTiles( 'https://{s}.tiles.mapbox.com/v3/osmbuildings.kbpalbpk/{z}/{x}/{y}.png', { attribution: '© Data &lt;a href=&quot;http://openstreetmap.org/copyright/&quot;&gt;OpenStreetMap&lt;/a&gt; · © Map &lt;a href=&quot;http://mapbox.com&quot;&gt;Mapbox&lt;/a&gt;' } ); osmb.addGeoJSONTiles('http://{s}.data.osmbuildings.org/0.2/anonymous/tile/{z}/{x}/{y}.json');OSM Buildings serverThere is also documentation of OSM Buildings Server side. See https://github.com/OSMBuildings/OSMBuildings/blob/master/docs/server.md ContributingPlease note: We are a very small team with little time for the project and limited funds. You could help us a lot in advancing the project with spreading the word, donations, code contributions and testing. We are happy to receive pull requests and issues Development environmentHere's how to get your development environment set up: Clone the repo (git clone git@github.com:OSMBuildings/OSMBuildings.git) Install dependencies with npm install After making changes, you can try them out by running grunt release, which will output a dist/OSMBuildings/OSMBuildings.debug.js file that you can include like normal × Search results Close "},"GLMap.html":{"id":"GLMap.html","title":"Class: GLMap","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Class: GLMap GLMap new GLMap() This is the base map engine for standalone OSM Buildings Methods addLayer(layer) Adds a layer to the map Parameters: Name Type Description layer Object The layer to add destroy() Destroys the map getPosition() Returns the map's current geographic position getRotation() Returns the maps current rotation getSize() Returns the map's current size getTilt() Returns the map's current tilt getZoom() Returns the current zoom level removeLayer(layer) Removes a layer from the map Parameters: Name Type Description layer Object The layer to remove setPosition(pos) Sets the map's geographic position Parameters: Name Type Description pos Object The new position Properties Name Type Description latitude Float longitude Float Fires: GLMap#event:change setRotation(rotation) Set's the maps rotation Parameters: Name Type Description rotation Float The new rotation angle Fires: GLMap#event:rotate GLMap#event:change setSize(size) Sets the map's size Parameters: Name Type Description size Object Properties Name Type Description width Integer height Integer Fires: GLMap#event:resize setTilt(tilt) Sets the map's tilt Parameters: Name Type Description tilt Float The new tilt Fires: GLMap#event:tilt GLMap#event:change setZoom(zoom, e) Sets the zoom level Parameters: Name Type Description zoom Float The new zoom level e Object **Not currently used** Fires: GLMap#event:zoom GLMap#event:change Events change Fired when the map is zoomed, tilted or panned resize Fired when the map is resized rotate Fired when the map is rotated tilt Fired when the map is tilted zoom Fired when the map is zoomed (in either direction) Class: GLMap GLMap new GLMap(container, options) OSMBuildings basemap Parameters: Name Type Description container String The id of the html element to display the map in options Object Properties Name Type Argument Default Description minZoom Integer &lt;optional&gt; 10 Minimum allowed zoom maxZoom Integer &lt;optional&gt; 20 Maxiumum allowed zoom bounds Object &lt;optional&gt; A bounding box to restrict the map to state Boolean &lt;optional&gt; false Store the map state in the URL disabled Boolean &lt;optional&gt; false Disable user input attribution String &lt;optional&gt; An attribution string zoom Float &lt;optional&gt; minZoom Initial zoom rotation Float &lt;optional&gt; 0 Initial rotation tilt Float &lt;optional&gt; 0 Initial tilt position Object &lt;optional&gt; Initial position Properties Name Type Argument Default Description latitude Float &lt;optional&gt; 52.520000 latitude Float &lt;optional&gt; 13.410000 Methods addLayer(layer) Adds a layer to the map Parameters: Name Type Description layer Object The layer to add destroy() Destroys the map getPosition() Returns the map's current geographic position getRotation() Returns the maps current rotation getSize() Returns the map's current size getTilt() Returns the map's current tilt getZoom() Returns the current zoom level removeLayer(layer) Removes a layer from the map Parameters: Name Type Description layer Object The layer to remove setPosition(pos) Sets the map's geographic position Parameters: Name Type Description pos Object The new position Properties Name Type Description latitude Float longitude Float Fires: GLMap#event:change setRotation(rotation) Set's the maps rotation Parameters: Name Type Description rotation Float The new rotation angle Fires: GLMap#event:rotate GLMap#event:change setSize(size) Sets the map's size Parameters: Name Type Description size Object Properties Name Type Description width Integer height Integer Fires: GLMap#event:resize setTilt(tilt) Sets the map's tilt Parameters: Name Type Description tilt Float The new tilt Fires: GLMap#event:tilt GLMap#event:change setZoom(zoom, e) Sets the zoom level Parameters: Name Type Description zoom Float The new zoom level e Object **Not currently used** Fires: GLMap#event:zoom GLMap#event:change Events change Fired when the map is zoomed, tilted or panned resize Fired when the map is resized rotate Fired when the map is rotated tilt Fired when the map is tilted zoom Fired when the map is zoomed (in either direction) × Search results Close "},"OSMBuildings.html":{"id":"OSMBuildings.html","title":"Class: OSMBuildings","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Class: OSMBuildings OSMBuildings new OSMBuildings( [options]) OSMBuildings building layer Parameters: Name Type Argument Description options Object &lt;optional&gt; OSMBuildings options Properties Name Type Argument Default Description baseURL String &lt;optional&gt; '.' For locating assets. This is relative to calling page minZoom Float &lt;optional&gt; 15 Minimum allowed zoom maxZoom Float &lt;optional&gt; 22 Maximum allowed zoom attribution String &lt;optional&gt; '&lt;a href=&quot;http://osmbuildings.org&quot;&gt;© OSM Buildings&lt;/a&gt;' Attribution showBackfaces Boolean &lt;optional&gt; false Render front and backsides of polygons. false increases performance, true might be needed for bad geometries fogColor String &lt;optional&gt; '#e8e0d8' Color to be used for sky gradients and distance fog backgroundColor String &lt;optional&gt; '#efe8e0' Overall background color fastMode Boolean &lt;optional&gt; false Enables faster rendering at cost of image quality. If performance is an issue, consider also removing effects effects Array &lt;optional&gt; [] Which effects to enable. The only effect at the moment is 'shadows' style Object &lt;optional&gt; { color: 'rgb(220, 210, 200)' } Sets the default building style Methods addGeoJSON(url, options) Adds a GeoJSON layer to the map Parameters: Name Type Description url String URL of the GeoJSON file options Object Options to apply to the GeoJSON being rendered Properties Name Type Argument Default Description scale Integer &lt;optional&gt; 1 Scale the model by this value before rendering rotation Integer &lt;optional&gt; 0 Rotate the model by this much before rendering elevation Integer &lt;optional&gt; &lt;ground height&gt; The height above ground to place the model at id String &lt;optional&gt; An identifier for the object. This is used for getting info about the object later color String &lt;optional&gt; A color to apply to the model modifier OSMBuildings~modifierFunction &lt;optional&gt; A function that will get called on each feature, for modification before rendering addGeoJSONTiles(url, options) Adds a GeoJSON tile base layer, for rendering the 3D buildings Parameters: Name Type Description url String The URL of the GeoJSON tile server, in the correct format options Object Properties Name Type Argument Default Description fixedZoom Integer &lt;optional&gt; 15 bounds Object &lt;optional&gt; Currently not used color String &lt;optional&gt; A color to apply to all features on this layer modifier OSMBuildings~modifierFunction &lt;optional&gt; A function that will get called on each feature, for modification before rendering minZoom Integer &lt;optional&gt; The minimum zoom level to show features from this layer maxZoom Integer &lt;optional&gt; The maxiumum zoom level to show features from this layer addMapTiles(url, options) Adds a 2D map source, to render below the 3D buildings Parameters: Name Type Description url String The URL of the map server. This could be Mapbox, or any other tile server that supports the right format options Object Properties Name Type Argument Description fixedZoom Integer &lt;optional&gt; bounds Object &lt;optional&gt; Currently not used color String &lt;optional&gt; A color to apply to all features on this layer modifier OSMBuildings~modifierFunction &lt;optional&gt; A function that will get called on each feature, for modification before rendering minZoom Integer &lt;optional&gt; The minimum zoom level to show features from this layer maxZoom Integer &lt;optional&gt; The maxiumum zoom level to show features from this layer addOBJ(url, position [, options]) Adds an OBJ (3D object) file to the map Important: objects with same url are cached and only loaded once Parameters: Name Type Argument Description url String URL of the OBJ file position Object Where to render the OBJ Properties Name Type Description latitude Float Latitude for the OBJ longitude Float Longitude for the OBJ options Object &lt;optional&gt; Options for rendering the OBJ Properties Name Type Argument Default Description scale Integer &lt;optional&gt; 1 Scale the model by this value before rendering rotation Integer &lt;optional&gt; 0 Rotate the model by this much before rendering elevation Integer &lt;optional&gt; &lt;ground height&gt; The height above ground to place the model at id String &lt;optional&gt; An identifier for the object. This is used for getting info about the object later color String &lt;optional&gt; A color to apply to the model addTo(map) Adds the OSMBuildings object as a layer to the given map Parameters: Name Type Description map Object The map to add it to destroy() Destroy's the layer getTarget(x, y, callback) Returns the feature from a position on the screen Parameters: Name Type Description x Integer The x coordinate (in pixels) of position on the screen y Integer The y coordinate (in pixels) of position on the screen callback OSMBuildings~getTargetCallback A callback function that receives the object hide(selector [, duration]) Sets a function that defines which objects to hide on this layer Parameters: Name Type Argument Default Description selector OSMBuildings~selectorFunction A function that will get run on each feature, and returns a boolean indicating whether or not to hide the feature duration Integer &lt;optional&gt; 0 How long to hide the feature for highlight(id) Highlight a given feature by id. Currently, the highlight can only be applied to one feature. Set color = `null` in order to un-highlight Parameters: Name Type Description id String The feature's id. For OSM buildings, it's the OSM id. For other objects, it's whatever's defined in the options passed to it. off(event [, fn]) Removes event listeners Parameters: Name Type Argument Description event String An event identifier to listen for fn OSMBuildings~eventListenerFunction &lt;optional&gt; If given, only remove the given function on(event, callback) Adds an event listener Parameters: Name Type Description event String An event identifier to listen for callback OSMBuildings~eventListenerFunction project(latitude, longitude, elevation) Returns the screen position of the point Parameters: Name Type Description latitude Float Latitude of the point longitude Float Longitude of the point elevation Float Elevation of the point remove() Removes the OSMBuildings object from the map screenshot(callback) Take a screenshot Parameters: Name Type Description callback OSMBuildings~screenshotCallback A callback function that receives the screenshot setDate(date) Sets the date for shadow calculations Parameters: Name Type Description date Date setStyle(style) Sets the map style Parameters: Name Type Description style Object Properties Name Type Argument Description color String &lt;optional&gt; The color for buildings show(selector [, duration]) Sets a function that defines which objects to show on this layer Parameters: Name Type Argument Default Description selector OSMBuildings~selectorFunction A function that will get run on each feature, and returns a boolean indicating whether or not to show the feature duration Integer &lt;optional&gt; 0 How long to show the feature for unproject(x, y) Returns the geographic position (latitude/longitude) of the map layer (elevation==0) at viewport position (x,y), or 'undefined' if no part of the map plane would be rendered at (x,y) - e.g. if (x,y) lies above the horizon. Parameters: Name Type Description x Integer the x position in the viewport y Integer the y position in the viewport Type Definitions eventListenerFunction() A function that will be called when an event is fired. The parameters passed to the function depend on what type of event it is getTargetCallback(feature) A callback function for getTarget Parameters: Name Type Description feature Object The feature modifierFunction(id, properties) A function that will be called on each feature, for modification before rendering Parameters: Name Type Description id String The feature's id properties Object The feature's properties screenshotCallback(screenshot) A callback function for screnshot Parameters: Name Type Description screenshot The screenshot selectorFunction(id, data) A function that will be called on each feature, for modification before rendering Parameters: Name Type Description id String The feature's id data Object The feature's data Events busy Fired when data loading starts idle Fired when data loading ends loadfeature Fired when a 3d object has been loaded × Search results Close "},"tutorial-Adding a 3D model.html":{"id":"tutorial-Adding a 3D model.html","title":"Tutorial: Adding a 3D model","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Adding a 3D model You can display custom 3D models in the map environment, with the following: osmb.addOBJ('sphere.obj', { latitude: 52.519991, longitude: 13.406453 }, { id: &quot;my_object_1&quot;, color: 'red'}); × Search results Close "},"tutorial-Adding a moving label.html":{"id":"tutorial-Adding a moving label.html","title":"Tutorial: Adding a moving label","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Adding a moving label Label This label moves virtually in space. &lt;div id=&quot;label&quot;&gt;Label&lt;/div&gt;#label { width:100px; height:10px; position:absolute; z-Index:10; border:3px solid red; }var label = document.getElementById('label'); map.on('change', function() { var pos = osmb.project(52.52, 13.37, 50); label.style.left = Math.round(pos.x) + 'px'; label.style.top = Math.round(pos.y) + 'px'; }); × Search results Close "},"tutorial-Adding control buttons.html":{"id":"tutorial-Adding control buttons.html","title":"Tutorial: Adding control buttons","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Adding control buttons ↙ ↗ ↶ ↷ - + The code below adds buttons to the top left of the map, for controlling tilt, rotation, and zoom. .control { position: absolute; left: 10px; /* This might need to be tweaked */ z-index: 1000; } .control.tilt { top: 100px; /* This might need to be tweaked */ } .control.rotation { top: 145px; /* This might need to be tweaked */ } .control.zoom { top: 190px; /* This might need to be tweaked */ } .control.zoom button{ font-weight: normal; } .control button { width: 30px; height: 30px; margin: 15px 0 0 15px; border: 1px solid #999999; background: #ffffff; opacity: 0.6; border-radius: 5px; box-shadow: 0 0 5px #666666; font-weight: bold; text-align: center; } .control button:hover { opacity: 1; cursor: pointer; }&lt;div class=&quot;control tilt&quot;&gt; &lt;button class=&quot;dec&quot;&gt;↙&lt;/button&gt; &lt;button class=&quot;inc&quot;&gt;↗&lt;/button&gt; &lt;/div&gt; &lt;div class=&quot;control rotation&quot;&gt; &lt;button class=&quot;inc&quot;&gt;↶&lt;/button&gt; &lt;button class=&quot;dec&quot;&gt;↷&lt;/button&gt; &lt;/div&gt; &lt;div class=&quot;control zoom&quot;&gt; &lt;button class=&quot;dec&quot;&gt;-&lt;/button&gt; &lt;button class=&quot;inc&quot;&gt;+&lt;/button&gt; &lt;/div&gt;var controlButtons = document.querySelectorAll('.control button'); for (var i = 0; i &lt; controlButtons.length; i++) { controlButtons[i].addEventListener('click', function(e) { var button = this; var parentClassList = button.parentNode.classList; var direction = button.classList.contains('inc') ? 1 : -1; var increment; var property; if (parentClassList.contains('tilt')) { property = 'Tilt'; increment = direction*10; } if (parentClassList.contains('rotation')) { property = 'Rotation'; increment = direction*10; } if (parentClassList.contains('zoom')) { property = 'Zoom'; increment = direction*1; } if (property) { map['set'+ property](map['get'+ property]()+increment); } }); } × Search results Close "},"tutorial-Calculate a Bounding Box.html":{"id":"tutorial-Calculate a Bounding Box.html","title":"Tutorial: Calculate a Bounding Box","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Calculate a Bounding Box This function returns a bounding box for a given feature. var METERS_PER_LEVEL = 3; var DEFAULT_HEIGHT = 10; function getBoundingBox(osmb, feature) { var bounds = { left: Infinity, top: Infinity, right: -Infinity, bottom: -Infinity }; var pos; var height = feature.properties.height || (feature.properties.levels ? feature.properties.levels*METERS_PER_LEVEL : DEFAULT_HEIGHT); for (var coord of feature.geometry.coordinates[0]) { for (var lat=0; lat &lt;= height; lat += height) { pos = osmb.project(coord[1], coord[0], lat); if (pos.x &lt; bounds.left) { bounds.left = pos.x; } else if (pos.x &gt; bounds.right) { bounds.right = pos.x; } if (pos.y &lt; bounds.top) { bounds.top = pos.y; } else if (pos.y &gt; bounds.bottom) { bounds.bottom = pos.y; } } } return bounds; } × Search results Close "},"tutorial-Fetching details.html":{"id":"tutorial-Fetching details.html","title":"Tutorial: Fetching details","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Fetching details Sometimes, you may want access to the raw Openstreetmap data. Currently, we don't store that locally, but we do store the ids, so you can query overpass turbo for it. When you click on a building above, it will query overpass turbo, and a short while later, it will display an alert window with the response, which contains the details for that building. // This function does an HTTP get request, given a URL, and passes the response to a callback // Source: http://stackoverflow.com/a/4033310/1202488 function httpGetAsync(theUrl, callback) { var xmlHttp = new XMLHttpRequest(); xmlHttp.onreadystatechange = function() { if (xmlHttp.readyState == 4 &amp;&amp; xmlHttp.status == 200) callback(xmlHttp.responseText); } xmlHttp.open(&quot;GET&quot;, theUrl, true); // true for asynchronous xmlHttp.send(null); } map.on('pointerdown', function(e) { var id = osmb.getTarget(e.detail.x, e.detail.y, function(id) { if (id) { var url = &quot;http://overpass-api.de/api/interpreter?data=[out:json];(relation(&quot; + id.replace(/^[a-z]+/, '') + &quot;);way(r);node(w);way(&quot; + id.replace(/^[a-z]+/, '') + &quot;);way(23853131);node(w));out;&quot;; httpGetAsync(url, function(response){ alert(response); }); } }); }); × Search results Close "},"tutorial-GeoJSON.html":{"id":"tutorial-GeoJSON.html","title":"Tutorial: GeoJSON","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object GeoJSON GeoJSON features can be displayed with addGeoJSON var geojson = { type: 'FeatureCollection', features: [{ type: 'Feature', properties: { color: '#ff0000', roofColor: '#cc0000', height: 50, minHeight: 0 }, geometry: { type: 'Polygon', coordinates: [ [ [13.37000, 52.52000], [13.37010, 52.52000], [13.37010, 52.52010], [13.37000, 52.52010], [13.37000, 52.52000] ] ] } }] }; osmb.addGeoJSON(geojson); × Search results Close "},"tutorial-Highlighting Buildings.html":{"id":"tutorial-Highlighting Buildings.html","title":"Tutorial: Highlighting Buildings","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Highlighting Buildings This code will highlight a building on hover. map.on('pointermove', function(e) { var id = osmb.getTarget(e.detail.x, e.detail.y, function(id) { if (id) { osmb.highlight(id, '#f08000'); } else { osmb.highlight(null); } }); }); × Search results Close "},"tutorial-Positioning a map object.html":{"id":"tutorial-Positioning a map object.html","title":"Tutorial: Positioning a map object","body":" OSMBuildings Classes GLMapOSMBuildings Events GLMap#event:changeGLMap#event:resizeGLMap#event:rotateGLMap#event:tiltGLMap#event:zoomOSMBuildings#event:busyOSMBuildings#event:idleOSMBuildings#event:loadfeature Tutorials Adding a 3D modelAdding a moving labelAdding control buttonsCalculate a Bounding BoxFetching detailsGeoJSONHighlighting BuildingsPositioning a map object Positioning a map object Position a map objectvar obj = osmb.addGeoJSON(geojson); /* * ## Key codes for object positioning ## * Cursor keys: move * +/- : scale * w/s : elevate * a/d : rotate * * Pressing Alt the same time accelerates */ document.addEventListener('keydown', function(e) { var transInc = e.altKey ? 0.0002 : 0.00002; var scaleInc = e.altKey ? 0.1 : 0.01; var rotaInc = e.altKey ? 10 : 1; var eleInc = e.altKey ? 10 : 1; switch (e.which) { case 37: obj.position.longitude -= transInc; break; case 39: obj.position.longitude += transInc; break; case 38: obj.position.latitude += transInc; break; case 40: obj.position.latitude -= transInc; break; case 187: obj.scale += scaleInc; break; case 189: obj.scale -= scaleInc; break; case 65: obj.rotation += rotaInc; break; case 68: obj.rotation -= rotaInc; break; case 87: obj.elevation += eleInc; break; case 83: obj.elevation -= eleInc; break; default: return; } console.log(JSON.stringify({ position:{ latitude:parseFloat(obj.position.latitude.toFixed(5)), longitude:parseFloat(obj.position.longitude.toFixed(5)) }, elevation:parseFloat(obj.elevation.toFixed(2)), scale:parseFloat(obj.scale.toFixed(2)), rotation:parseInt(obj.rotation, 10) })); }); × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
